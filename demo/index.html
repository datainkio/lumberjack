<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lumberjack Browser Demo</title>
    <link rel="stylesheet" href="./styles.css">
  </head>
  <body>
    <header class="sticky-header">
      <div class="header-content">
        <h1>ü™ì Lumberjack Browser Demo</h1>
        <div class="dropdown-container">
          <button class="dropdown-btn">‚öôÔ∏è Settings</button>
          <div class="dropdown-menu">
            <label class="dropdown-item" id="logging-item">
              <input type="checkbox" id="setting-logging" />
              <span id="logging-text">üöÄ Enable Logger</span>
            </label>
            <label class="dropdown-item" id="caller-location-item">
              <input type="checkbox" id="setting-caller-location" />
              <span id="caller-location-text">üìç Enable Caller Location</span>
            </label>
          </div>
        </div>
      </div>
    </header>

    <div class="note">
      <strong>üìã Important:</strong> Open your browser's DevTools console (F12)
      to see the styled log output. Limiting log spam is a key feature, so make
      sure to <strong style="color: #fbbf24">hit "Enable Logger"</strong>first.
      All other buttons will do nothing until logging is enabled.
    </div>

    <div class="note" style="background: #1f2937; border-left-color: #60a5fa">
      <strong>üîç Debugging Tip:</strong> To skip over Lumberjack internals when stepping through code in DevTools:
      <ol style="margin: 0.5rem 0; padding-left: 1.5rem">
        <li>Open DevTools (F12) ‚Üí Settings (‚öôÔ∏è icon, bottom right)</li>
        <li>Go to <strong>Ignore List</strong> tab</li>
        <li>Add these patterns to ignore all Lumberjack scripts:
          <ul style="margin: 0.25rem 0; padding-left: 1.5rem">
            <li><code>Lumberjack</code></li>
            <li><code>index.js</code></li>
          </ul>
        </li>
        <li>Now when stepping through code, DevTools will automatically skip over Lumberjack internals and jump directly to your code</li>
      </ol>
      This makes debugging much easier by hiding library implementation details without manual blackboxing.
    </div>

    <div class="demo-section" style="border-left-color: #fbbf24">
      <h2>‚ö†Ô∏è 1. Getting Started</h2>
      <p>
        Use the <strong>‚öôÔ∏è Settings</strong> menu in the header to enable logging and configure caller location display. 
        Once logging is enabled, click the demo buttons below to see Lumberjack in action. Open your browser's DevTools console (F12) to view the styled output.
      </p>
      <button id="btn-basic">Log Standard Message</button>
      <button id="btn-headsup">Log Headsup</button>
      <button id="btn-success">Log Success</button>
      <button id="btn-error-style">Log Error Style</button>

      <div class="code-section">
        <div class="code-label">Code Examples:</div>
        <pre><code>lumberjack.enabled = !lumberjack.enabled;
// ‚úÖ Logger enabled! Check console for all subsequent logs.

lumberjack.trace("Standard message", sampleData, "brief", "default");
// Standard message { user: "alice", items: [1, 2, 3, ...], config: {...}, nested: {...} }

lumberjack.trace("Important notification", { priority: "high" }, "brief", "headsup");
// ‚ö° Important notification { priority: "high" }

lumberjack.trace("Operation completed", { duration: "1.2s" }, "brief", "success");
// ‚úì Operation completed { duration: "1.2s" }

lumberjack.trace("Something went wrong", { code: 500 }, "brief", "error");
// ‚ùå Something went wrong { code: 500 }</code></pre>
      </div>
    </div>

    <div class="demo-section">
      <h2>2. Data Logging (Brief vs Verbose)</h2>
      <button id="btn-brief">Brief Mode (preview)</button>
      <button id="btn-verbose">Verbose Mode (expanded)</button>

      <div class="code-section">
        <div class="code-label">Code Examples:</div>
        <pre><code>lumberjack.trace("Brief mode (truncates arrays/objects)", sampleData, "brief");
// Brief mode (truncates arrays/objects) { user: "alice", items: [1, 2, 3, ...], config: {...} }

lumberjack.trace("Verbose mode (expands all data)", sampleData, "verbose");
// Verbose mode (expands all data)
//   user: "alice"
//   items: [1, 2, 3, 4, 5, 6, 7, 8]
//   config: { theme: "dark", timeout: 5000 }
//   nested: { deep: { value: "hello" } }</code></pre>
      </div>
    </div>

    <div class="demo-section">
      <h2>3. Auto Error Detection</h2>
      <button id="btn-auto-error">Log Caught Error (auto-styles)</button>

      <div class="code-section">
        <div class="code-label">Code Example:</div>
        <pre><code>try {
  throw new Error("Simulated runtime error");
} catch (err) {
  // No need to specify 'error' style - auto-detected!
  lumberjack.trace("Caught exception (auto-detects Error):", err, "verbose");
  // ‚ùå Caught exception (auto-detects Error):
  //   Error: Simulated runtime error
  //   at <anonymous>:2:9
  //   [full stack trace...]
}</code></pre>
      </div>
    </div>

    <div class="demo-section">
      <h2>4. Indentation & Grouping</h2>
      <button id="btn-indent">Manual Indent/Outdent</button>
      <button id="btn-group">Grouped Logs (auto-indent)</button>

      <div class="code-section">
        <div class="code-label">Code Examples:</div>
        <pre><code>// Manual indentation
lumberjack.trace("Level 0");
// Level 0

lumberjack.indent();
lumberjack.trace("Level 1 (indented)");
//   Level 1 (indented)

lumberjack.indent();
lumberjack.trace("Level 2 (double indent)");
//     Level 2 (double indent)

lumberjack.outdent();
lumberjack.trace("Back to Level 1");
//   Back to Level 1

lumberjack.resetIndent();
lumberjack.trace("Reset to Level 0");
// Reset to Level 0

// Grouped logs (auto-indent/outdent)
await lumberjack.group(async () => {
  lumberjack.trace("Parent operation started");
  // :::::::::::::::::::
  // Parent operation started
  
  lumberjack.trace("Child operation 1 (auto-indented)");
  //   Child operation 1 (auto-indented)
  
  lumberjack.trace("Child operation 2 (auto-indented)");
  //   Child operation 2 (auto-indented)
});
lumberjack.trace("After group (indent restored)");
// After group (indent restored)</code></pre>
      </div>
    </div>

    <div class="demo-section">
      <h2>5. Scoped Loggers</h2>
      <button id="btn-scoped">Use Scoped Logger</button>
      <button id="btn-scoped-group">Scoped Group</button>

      <div class="code-section">
        <div class="code-label">Code Examples:</div>
        <pre><code>const uiLogger = Lumberjack.createScoped("UI", {
  prefix: "üé®",
  color: "#10B981",
});
uiLogger.trace("Component mounted");
// [UI] Component mounted
uiLogger.trace("State updated", { count: 42 });
// [UI] State updated { count: 42 }

const apiLogger = Lumberjack.createScoped("API", {
  prefix: "üåê",
  color: "#F59E0B",
});
await apiLogger.group(async () => {
  apiLogger.trace("Fetching data...");
  // :::::::::::::::::::
  // [API] Fetching data...
  apiLogger.trace("Processing response...");
  //   [API] Processing response...
});</code></pre>
      </div>
    </div>

    <div class="demo-section">
      <h2>6. Script Outlines</h2>
      <button id="btn-outline-brief">Show Script Outline (brief)</button>
      <button id="btn-outline-verbose">Show Script Outline (verbose)</button>

      <div class="code-section">
        <div class="code-label">Code Examples:</div>
        <pre><code>lumberjack.showScriptOutline("Deploy Pipeline", [
  { name: "build", description: "Bundle assets" },
  { name: "test", description: "Run test suite" },
  { name: "upload", description: "Deploy to CDN" },
], "brief", "headsup");
// ‚ö° Deploy Pipeline
//   build: Bundle assets
//   test: Run test suite
//   upload: Deploy to CDN

lumberjack.showScriptOutline("CI/CD Workflow", [
  {
    name: "lint",
    description: "Check code style",
    script: "npm run lint",
    triggers: ["push", "pull_request"],
  },
  {
    name: "build",
    description: "Compile TypeScript",
    script: "tsc --project tsconfig.json",
    dependencies: ["lint"],
  },
  {
    name: "deploy",
    description: "Upload artifacts",
    script: "aws s3 sync dist/ s3://bucket",
    dependencies: ["build"],
    triggers: ["main"],
  },
], "verbose", "headsup");
// ‚ö° CI/CD Workflow
//   lint: Check code style
//     script: npm run lint
//     triggers: ["push", "pull_request"]
//   build: Compile TypeScript
//     script: tsc --project tsconfig.json
//     dependencies: ["lint"]
//   deploy: Upload artifacts
//     script: aws s3 sync dist/ s3://bucket
//     dependencies: ["build"]
//     triggers: ["main"]</code></pre>
      </div>
    </div>

    <div class="demo-section">
      <h2>7. Custom Styles</h2>
      <button id="btn-custom-style">Single Purple Message</button>
      <button id="btn-set-default-style">Set Purple as Default Style</button>
      <button id="btn-reset-style">Reset to Standard Style</button>

      <div class="code-section">
        <div class="code-label">Code Examples:</div>
        <pre><code>const purpleStyle = new LumberjackStyle("#9333EA", "üé®");

lumberjack.trace(
  "Single custom purple message (next message will be standard)",
  { theme: "royal" },
  "brief",
  purpleStyle
);
// üé® Single custom purple message (next message will be standard) { theme: "royal" }

lumberjack.trace("Purple style message 1", { count: 1 }, "brief", purpleStyle);
// üé® Purple style message 1 { count: 1 }
lumberjack.trace("Purple style message 2", { count: 2 }, "brief", purpleStyle);
// üé® Purple style message 2 { count: 2 }
lumberjack.trace("Purple style message 3", { count: 3 }, "brief", purpleStyle);
// üé® Purple style message 3 { count: 3 }

lumberjack.trace("Back to standard style (gray, no prefix)", 
  { reset: true }, "brief", "standard");
// Back to standard style (gray, no prefix) { reset: true }</code></pre>
      </div>
    </div>

    <div class="demo-section">
      <h2>8. Configuration</h2>
      <button id="btn-configure">Configure with Prefix</button>

      <div class="code-section">
        <div class="code-label">Code Examples:</div>
        <pre><code>lumberjack.configure({
  enabled: true,
  prefix: "[APP] ",
});

lumberjack.trace("Logger reconfigured with prefix");
// [APP] Logger reconfigured with prefix

lumberjack.configure({
  enabled: true,
  showCallerLocation: false,
});

lumberjack.trace("Message without caller location");
// [APP] Message without caller location</code></pre>
      </div>
    </div>
    <script src="./scripts.js" type="module"></script>
  </body>
</html>

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lumberjack Browser Demo</title>
    <link rel="stylesheet" href="./styles.css">
  </head>
  <body>
    <h1>ü™ì Lumberjack Browser Demo</h1>

    <div class="note">
      <strong>üìã Important:</strong> Open your browser's DevTools console (F12)
      to see the styled log output. Limiting log spam is a key feature, so make
      sure to <strong style="color: #fbbf24">hit "Enable Logger"</strong>first.
      All other buttons will do nothing until logging is enabled.
    </div>

    <div class="note" style="background: #1f2937; border-left-color: #60a5fa">
      <strong>üîç Debugging Tip:</strong> To skip over Lumberjack internals when stepping through code in DevTools:
      <ol style="margin: 0.5rem 0; padding-left: 1.5rem">
        <li>Open DevTools (F12) ‚Üí Settings (‚öôÔ∏è icon, bottom right)</li>
        <li>Go to <strong>Ignore List</strong> tab</li>
        <li>Add these patterns to ignore all Lumberjack scripts:
          <ul style="margin: 0.25rem 0; padding-left: 1.5rem">
            <li><code>Lumberjack</code></li>
            <li><code>index.js</code></li>
          </ul>
        </li>
        <li>Now when stepping through code, DevTools will automatically skip over Lumberjack internals and jump directly to your code</li>
      </ol>
      This makes debugging much easier by hiding library implementation details without manual blackboxing.
    </div>

    <div class="demo-section" style="border-left-color: #fbbf24">
      <h2>‚ö†Ô∏è 1. ENABLE LOGGER FIRST</h2>
      <button
        id="btn-toggle"
        style="background: #fbbf24; font-weight: bold; font-size: 1.1rem"
      >
        üöÄ Enable Logger (Click Me First!)
      </button>
      <button id="btn-toggle-caller-location" style="background: #60a5fa; font-weight: bold">
        üìç Caller Location Enabled (Click to Toggle)
      </button>
      <button id="btn-basic">Log Standard Message</button>
      <button id="btn-headsup">Log Headsup</button>
      <button id="btn-success">Log Success</button>
      <button id="btn-error-style">Log Error Style</button>

      <div class="code-section">
        <div class="code-label">Code Examples:</div>
        <pre><code>// Toggle logger
lumberjack.enabled = !lumberjack.enabled;

// Standard message
lumberjack.trace("Standard message", sampleData, "brief", "default");

// Headsup (‚ö° amber)
lumberjack.trace("Important notification", { priority: "high" }, "brief", "headsup");

// Success (‚úì green)
lumberjack.trace("Operation completed", { duration: "1.2s" }, "brief", "success");

// Error (‚ùå red)
lumberjack.trace("Something went wrong", { code: 500 }, "brief", "error");</code></pre>
      </div>
    </div>

    <div class="demo-section">
      <h2>2. Data Logging (Brief vs Verbose)</h2>
      <button id="btn-brief">Brief Mode (preview)</button>
      <button id="btn-verbose">Verbose Mode (expanded)</button>

      <div class="code-section">
        <div class="code-label">Code Examples:</div>
        <pre><code>// Brief mode - truncates long arrays/objects
lumberjack.trace("Brief mode (truncates arrays/objects)", sampleData, "brief");

// Verbose mode - expands all data with formatting
lumberjack.trace("Verbose mode (expands all data)", sampleData, "verbose");</code></pre>
      </div>
    </div>

    <div class="demo-section">
      <h2>3. Auto Error Detection</h2>
      <button id="btn-auto-error">Log Caught Error (auto-styles)</button>

      <div class="code-section">
        <div class="code-label">Code Example:</div>
        <pre><code>// Error objects auto-detect and apply 'error' style
try {
  throw new Error("Simulated runtime error");
} catch (err) {
  // No need to specify 'error' style - auto-detected!
  lumberjack.trace("Caught exception (auto-detects Error):", err, "verbose");
}</code></pre>
      </div>
    </div>

    <div class="demo-section">
      <h2>4. Indentation & Grouping</h2>
      <button id="btn-indent">Manual Indent/Outdent</button>
      <button id="btn-group">Grouped Logs (auto-indent)</button>

      <div class="code-section">
        <div class="code-label">Code Examples:</div>
        <pre><code>// Manual indentation
lumberjack.trace("Level 0");
lumberjack.indent();
lumberjack.trace("Level 1 (indented)");
lumberjack.indent();
lumberjack.trace("Level 2 (double indent)");
lumberjack.outdent();
lumberjack.trace("Back to Level 1");
lumberjack.resetIndent();
lumberjack.trace("Reset to Level 0");

// Grouped logs (auto-indent/outdent)
await lumberjack.group(async () => {
  lumberjack.trace("Parent operation started");
  lumberjack.trace("Child operation 1 (auto-indented)");
  lumberjack.trace("Child operation 2 (auto-indented)");
});
lumberjack.trace("After group (indent restored)");</code></pre>
      </div>
    </div>

    <div class="demo-section">
      <h2>5. Scoped Loggers</h2>
      <button id="btn-scoped">Use Scoped Logger</button>
      <button id="btn-scoped-group">Scoped Group</button>

      <div class="code-section">
        <div class="code-label">Code Examples:</div>
        <pre><code>// Create scoped logger with custom prefix and color
const uiLogger = Lumberjack.createScoped("UI", {
  prefix: "üé®",
  color: "#10B981",
});
uiLogger.trace("Component mounted");
uiLogger.trace("State updated", { count: 42 });

// Scoped logger with grouping
const apiLogger = Lumberjack.createScoped("API", {
  prefix: "üåê",
  color: "#F59E0B",
});
await apiLogger.group(async () => {
  apiLogger.trace("Fetching data...");
  apiLogger.trace("Processing response...");
});</code></pre>
      </div>
    </div>

    <div class="demo-section">
      <h2>6. Script Outlines</h2>
      <button id="btn-outline-brief">Show Script Outline (brief)</button>
      <button id="btn-outline-verbose">Show Script Outline (verbose)</button>

      <div class="code-section">
        <div class="code-label">Code Examples:</div>
        <pre><code>// Brief outline - just names and descriptions
lumberjack.showScriptOutline("Deploy Pipeline", [
  { name: "build", description: "Bundle assets" },
  { name: "test", description: "Run test suite" },
  { name: "upload", description: "Deploy to CDN" },
], "brief", "headsup");

// Verbose outline - includes scripts, triggers, dependencies
lumberjack.showScriptOutline("CI/CD Workflow", [
  {
    name: "lint",
    description: "Check code style",
    script: "npm run lint",
    triggers: ["push", "pull_request"],
  },
  {
    name: "build",
    description: "Compile TypeScript",
    script: "tsc --project tsconfig.json",
    dependencies: ["lint"],
  },
  {
    name: "deploy",
    description: "Upload artifacts",
    script: "aws s3 sync dist/ s3://bucket",
    dependencies: ["build"],
    triggers: ["main"],
  },
], "verbose", "headsup");</code></pre>
      </div>
    </div>

    <div class="demo-section">
      <h2>7. Custom Styles</h2>
      <button id="btn-custom-style">Single Purple Message</button>
      <button id="btn-set-default-style">Set Purple as Default Style</button>
      <button id="btn-reset-style">Reset to Standard Style</button>

      <div class="code-section">
        <div class="code-label">Code Examples:</div>
        <pre><code>// Create custom style instance
const purpleStyle = new LumberjackStyle("#9333EA", "üé®");

// Use once for a single message
lumberjack.trace(
  "Single custom purple message (next message will be standard)",
  { theme: "royal" },
  "brief",
  purpleStyle
);

// Pass to multiple calls to use consistently
lumberjack.trace("Purple style message 1", { count: 1 }, "brief", purpleStyle);
lumberjack.trace("Purple style message 2", { count: 2 }, "brief", purpleStyle);
lumberjack.trace("Purple style message 3", { count: 3 }, "brief", purpleStyle);

// Reset to standard style
lumberjack.trace("Back to standard style (gray, no prefix)", 
  { reset: true }, "brief", "standard");</code></pre>
      </div>
    </div>

    <div class="demo-section">
      <h2>8. Configuration</h2>
      <button id="btn-configure">Configure with Prefix</button>

      <div class="code-section">
        <div class="code-label">Code Examples:</div>
        <pre><code>// Configure global settings
lumberjack.configure({
  enabled: true,
  prefix: "[APP] ",
});

// Prefix will appear on all subsequent messages
lumberjack.trace("Logger reconfigured with prefix");

// Disable caller location display (enabled by default)
lumberjack.configure({
  enabled: true,
  showCallerLocation: false,
});

// Messages will no longer show file:line location
lumberjack.trace("Message without caller location");</code></pre>
      </div>
    </div>
    <script src="./scripts.js" type="module"></script>
  </body>
</html>
